<div class="container p-4 mb-5">
  <div class="mb-2">
    <h4 class="text-uppercase font-weight-bold d-inline">Change Password </h4>
  </div>
  
  
  <div class="d-flex">
      <form #form="ngForm" autocomplete="off" (ngSubmit)="changePasswordSubmit(form)">
          <input hidden="hidden" type="text" [ngModel]="password_CSRF_TOKEN" name="_token"/>
          <div class="form-group">
              <label for="inputPasswordOld">Current Password</label>
              <input type="password" name="current_password" class="form-control" id="inputPasswordOld" required="" ngModel>
          </div>
          <div class="form-group">
              <label for="inputPasswordNew">New Password</label>
              <input type="password" name="first" class="form-control" id="inputPasswordNew" required="" ngModel>
              <span class="form-text small text-muted">
                      <!-- The password must be 8-20 characters, and must <em>not</em> contain spaces. -->
                  </span>
          </div>
          <div class="form-group">
              <label for="inputPasswordNewVerify">Verify</label>
              <input type="password" name="second" class="form-control" id="inputPasswordNewVerify" required="" ngModel>
              <span class="form-text small text-muted">
                      To confirm, type the new password again.
                  </span>
          </div>
          <div class="form-group">
              <button [disabled]="!form.valid" type="submit" class="btn btn-dark">Save</button>
          </div>          
      </form>
  </div>

  <div class="col-12 p-0 m-0">
        <ng-container *ngIf="password_reset_response_status === true">
            <div class="alert alert-success">
                <i class="fas fa-check-circle"> </i>
                <span> Your password has been changed <strong>successfully!</strong></span>
            </div>
        </ng-container>
        
        <ng-container *ngIf="password_reset_response_status === false">
        <ng-container *ngFor="let errors of error_messages"> 
            <ng-container *ngFor="let error of errors.current_password">
                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-circle"></i>
                    <span> {{error}}</span>
                </div>
            </ng-container>

            <ng-container *ngFor="let error of errors.first">
                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-circle"></i>
                    <span> {{error}}</span>
                </div>
            </ng-container>
            
        </ng-container>           
      </ng-container>
    </div>
</div>
